<!-- BEGIN: content -->
<div class="newsList">

<script type="text/javascript">
$(function() {

	$('div.newsList a.onxshop_duplicate').live('click', function() {
		var child_id = $(this).attr('href').replace('#','');;
		$.get('/request/bo/component/node_duplicate~id='+child_id+'~', function(data) {
			growlMessage($(data).find("div.onxshop_messages").text());
			refreshList();
		});
		return false;
	});

});

function refreshList() {
	var refresh_url = '/request/bo/component/news_list~display_pagination=1~';
	$('div.newsList').parent().load(refresh_url);
}

</script>

	<!-- BEGIN: messages --><div class="onxshop_messages">{MESSAGES}</div><!-- END: messages -->
	
	<div class="twoColumnLayout layout fibonacci-5-1">
		<div class="layoutWrapper">
			<div class="top"><span></span></div>
			<div class="layoutContent">
				<div class="layoutContentWrapper">
					<div class="layoutColumnOne ofTwo">
						<div class="layoutColumnWrapper">
						<!-- BEGIN: list -->
						<table>
							<thead>
								<tr>
									<th>Title</th>
									<th>Created<br /><a href="?sorting=modified">Modified</a></th>
									<th>&nbsp;</th>
								</tr>
							</thead>
							<tfoot>
								<tr>
									<td colspan="3">
										<div class="onxshop_pagination">
											{PAGINATION}
										</div>
									</td>
								</tr>
							</tfoot>
							<tbody>
								<!-- BEGIN: item -->
								<tr class="{ITEM.class}" id="node_id_{ITEM.id}">
									<td>
										<a href="/backoffice/news/edit/{ITEM.node_group}/{ITEM.id}"><span class="{ITEM.class}">{ITEM.title|htmlspecialchars}</span></a>
									</td>
									<td>{ITEM.created}<br />{ITEM.modified}</td>
									<td>
										<div class="onxshop_edit_content">
											<a class="onxshop_duplicate" title="Duplicate {ITEM.node_controller}" href="#{ITEM.id}"><span>Duplicate</span></a>
											<a class="onxshop_delete" title="Delete {ITEM.node_group}" href="#" onclick="openAjaxRequestInDialog('/request/bo/component/node_delete~id={ITEM.id}:delete=1~', 'Delete news item'); return false"><span>Delete</span></a>
										</div>
									</td>
								</tr>
								<!-- END: item -->
							</tbody>
						</table>	
						<!-- END: list -->
						</div>
					</div>
					<div class="layoutColumnTwo ofTwo">
						<div class="layoutColumnWrapper">
							<p><a class="button add" title="Add new article to {NEWS_LIST.title|htmlspecialchars}" href="#" onclick="openAjaxRequestInDialog('/request/bo/component/news_add~blog_node_id={NEWS_LIST.id}~', 'Create a news item for {NEWS_LIST.title|htmlspecialchars}'); return false"><span>Add a new article</span></a></p>
							<p>Export this list:<br /><a class="button rss" title="News RSS Export ({NEWS_LIST.title}" href="/export/rss/node/{NEWS_LIST.id}"><span>RSS</span></a></p>
						</div>
					</div>
				</div>
			</div>
			<div class="bottom"><span></span></div>
		</div>
	</div>
</div>
<!-- END: content -->
